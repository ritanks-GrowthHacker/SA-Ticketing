### Test Organization Dashboard Flow

# Test the COMPLETE organization flow (FIXED):
# 1. Login with org credentials → Auto sends OTP to org email → Store org in Zustand
# 2. ALWAYS redirect to OTP verification (for security)
# 3. After OTP verification:
#    - If has_departments: true → Redirect to dashboard
#    - If has_departments: false → Redirect to org-setup → dashboard
# 4. Dashboard shows employees by department with stats

POST http://localhost:3000/api/org-login
Content-Type: application/json

{
  "username": "test-org",
  "password": "password123"
}

###

# Test LOGIN OTP verification flow (SIMPLIFIED API)
POST http://localhost:3000/api/org-verify-login-otp
Content-Type: application/json

{
  "orgId": "replace-with-actual-org-id",
  "otp": "123456"
}

###

# Test resend LOGIN OTP (SIMPLIFIED API)
POST http://localhost:3000/api/org-resend-login-otp
Content-Type: application/json

{
  "orgId": "replace-with-actual-org-id"
}

###

# Test organization dashboard stats API
GET http://localhost:3000/api/org-dashboard-stats?orgId=replace-with-actual-org-id

###

# Test organization employees API  
GET http://localhost:3000/api/org-employees?orgId=replace-with-actual-org-id

###

# Check organization dashboard page
GET http://localhost:3000/organization-redirects/dashboard

###

# Check organization setup page (after OTP verification if no departments)
GET http://localhost:3000/org-setup

###